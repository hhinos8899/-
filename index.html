<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>私人百家乐 AI 预测系统（网格版）</title>
  <style>
    :root{
      --bg:#f2f2f2;--text:#111;
      --red:#e74c3c;--blue:#3498db;--gray:#aaa;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft YaHei",Arial;
      background:var(--bg);
      color:var(--text);
    }
    h1{text-align:center;margin:16px 0;}
    .wrap{max-width:760px;margin:0 auto;padding:12px;}
    /* ===== 网格 ===== */
    .grid{
      display:grid;
      grid-template-columns:repeat(6,1fr);
      gap:8px;
      background:#ddd;
      padding:10px;
      border-radius:12px;
    }
    .cell{
      height:70px;
      background:#fff;
      border:1px solid #bbb;
      border-radius:6px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:22px;
      font-weight:900;
      position:relative;
    }
    .cell.B{color:#fff;background:var(--red);}
    .cell.P{color:#fff;background:var(--blue);}
    .pred{
      position:absolute;
      bottom:2px;
      font-size:11px;
      color:#ffd700;
      font-weight:700;
    }
    .counter{
      text-align:center;
      margin:10px 0;
      font-weight:700;
    }
    .btnRow{
      display:flex;
      gap:10px;
      justify-content:center;
      margin:12px 0;
      flex-wrap:wrap;
    }
    .btn{
      min-width:100px;
      height:44px;
      border:none;
      border-radius:8px;
      font-size:18px;
      font-weight:900;
      color:#fff;
      cursor:pointer;
    }
    .btn.B{background:var(--red);}
    .btn.P{background:var(--blue);}
    .btn.gray{background:var(--gray);}
    .desc{
      background:#fff;
      border-radius:10px;
      padding:12px;
      margin-top:14px;
      line-height:1.6;
      font-size:14px;
    }
  </style>
</head>
<body>
  <h1>私人百家乐 AI 预测系统</h1>
  <div class="wrap">
    <div class="grid" id="grid"></div>

    <div class="counter">
      已输入：<span id="count">0</span> 局
    </div>

    <div class="btnRow">
      <button class="btn B" onclick="input('B')">B（庄）</button>
      <button class="btn P" onclick="input('P')">P（闲）</button>
      <button class="btn gray" onclick="undo()">退格</button>
      <button class="btn gray" onclick="resetAll()">清除</button>
    </div>

    <div class="desc">
      <b>操作说明：</b><br/>
      1. 点击 B（庄）或 P（闲）输入结果<br/>
      2. 系统将在第 7、10、13、16、19、22、25、28、31、34、37、40、43、46、49、52、55、58 局自动给出预测
    </div>
  </div>

<script>
/* ===== 基本数据 ===== */
const MAX = 60;
let results = [];

/* ===== 触发点 ===== */
const predictionRounds = [7,10,13,16,19,22,25,28,31,34,37,40,43,46,49,52,55,58];

/* ===== 18 套网格规则 ===== */
const RULES = [
  ({a,b})=>a==="P"&&b==="B"?"B":a==="P"&&b==="P"?"P":a==="B"&&b==="P"?"B":"P",
  ({a,b})=>a==="B"&&b==="B"?"B":a==="B"&&b==="P"?"P":a==="P"&&b==="P"?"B":"P",
  ({a,b})=>a==="P"&&b==="P"?"P":a==="P"&&b==="B"?"B":a==="B"&&b==="P"?"B":"P",
  ({a,b})=>a==="P"&&b==="B"?"B":a==="P"&&b==="P"?"P":a==="B"&&b==="P"?"B":"P",
  ({a,b})=>a==="B"&&b==="P"?"P":a==="B"&&b==="B"?"B":a==="P"&&b==="P"?"B":"P",
  ({a,b})=>a==="P"&&b==="P"?"P":a==="P"&&b==="B"?"B":a==="B"&&b==="P"?"B":"P",
  ({a,b})=>a==="P"&&b==="B"?"B":a==="P"&&b==="P"?"P":a==="B"&&b==="P"?"B":"P",
  ({a,b})=>a===b?"B":"P",
  ({a,b})=>a==="P"&&b==="B"?"B":a==="P"&&b==="P"?"P":a==="B"&&b==="P"?"B":"P",
  ({a,b})=>a==="B"&&b==="B"?"B":a==="B"&&b==="P"?"P":a==="P"&&b==="P"?"B":"P",
  ({a,b})=>a==="P"&&b==="P"?"P":a==="P"&&b==="B"?"B":a==="B"&&b==="P"?"B":"P",
  ({a,b})=>a==="P"&&b==="B"?"B":a==="P"&&b==="P"?"P":a==="B"&&b==="P"?"B":"P",
  ({a,b})=>a===b?"B":"P",
  ({a,b})=>a===b?"P":"B",
  ({a,b})=>a===b?"B":"P",
  ({a,b})=>a===b?"P":"B",
  ({a,b})=>a===b?"P":"B",
  ({a,b})=>a===b?"B":"P",
];

/* ===== 初始化 ===== */
const grid = document.getElementById("grid");
for(let i=0;i<MAX;i++){
  const d=document.createElement("div");
  d.className="cell";
  d.id="c"+i;
  grid.appendChild(d);
}

/* ===== 工具 ===== */
function last2(){
  const bp=results.filter(x=>x==="B"||x==="P");
  if(bp.length<2) return null;
  return bp.slice(-2);
}
function predict(){
  const round=results.length+1;
  const idx=predictionRounds.indexOf(round);
  if(idx<0) return null;
  const l2=last2();
  if(!l2) return null;
  return RULES[idx]({a:l2[0],b:l2[1]});
}

/* ===== 渲染 ===== */
function render(){
  document.getElementById("count").textContent=results.length;
  results.forEach((v,i)=>{
    const c=document.getElementById("c"+i);
    c.className="cell "+v;
    c.textContent=v;
  });
  const p=predict();
  if(p){
    const c=document.getElementById("c"+results.length);
    c.innerHTML=`<div>${""}</div><div class="pred">预测:${p}</div>`;
  }
}

/* ===== 操作 ===== */
function input(x){
  if(results.length>=MAX) return;
  results.push(x);
  render();
}
function undo(){
  results.pop();
  for(let i=0;i<MAX;i++){
    const c=document.getElementById("c"+i);
    c.className="cell";
    c.textContent="";
    c.innerHTML="";
  }
  render();
}
function resetAll(){
  results=[];
  undo();
}
</script>
</body>
</html>
